<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Bug Localization</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h1>Bug Localization</h1>
    <form method="post">
      <label for="report">Bug Report:</label><br>
      <textarea id="report" name="report" rows="3" required></textarea><br>
      <label for="code">Source Code:</label><br>
      <textarea id="code" name="code" rows="10" required></textarea><br>
      <button type="submit">Locate Buggy Lines</button>
    </form>

    {% if results %}
      <h2>Top Suspicious Lines</h2>
      <table>
        <tr><th>Line No.</th><th>Score</th><th>Code</th></tr>
        {% for r in results %}
        <tr>
          <td>{{ r.line_no }}</td>
          <td>{{ r.score }}</td>
          <td><code>{{ r.text }}</code></td>
        </tr>
        {% endfor %}
      </table>
    {% endif %}
  </div>
</body>
</html>
